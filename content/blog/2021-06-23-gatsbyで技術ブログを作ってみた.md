---
date: 2021-06-23T15:22:11.709Z
title: Gatsbyで技術ブログを作ってみた
---
# Gatsbyとは

![Gatsby](/content/blog/gatsby.png "Gatsby")

Reactベースの静的サイトジェネレーター

[公式サイト](https://www.gatsbyjs.com/)

## メリット

* サイトを高速化することができる
* GraphQLを使用して、効率の良いリソース取得ができる
* Reactを使用することができる
* プラグインが豊富
* CMSの種類が豊富 etc...

# 本ブログで使用している技術

## Netlify CMS

![Netlify](/content/blog/netlify_logo_icon_169924.png "Netlify")

本ブログは、Netlify CMSで管理しています。Nelify CMSでは、Netlifyで静的ファイルの生成やホスティングをしてくれるため、低コストで運用・管理することができます。

[公式サイト](https://www.gatsbyjs.com/plugins/gatsby-plugin-netlify/)

## Emotion

![Emotion](/content/blog/emotion.png "Emotion")

Emotionは、CSS-in-JSのライブラリの一つです。<br />
CSS-in-JSの別のライブラリでStyled Componentsという選択肢もありましたが、Emotionの方が良いという記事が多かったので、今回はEmotionを使用しました。

CSS-in-JSのプロダクト採用事例

* [レシピサービスのフロントエンドに CSS in JS を採用した話](https://techlife.cookpad.com/entry/2021/03/15/090000) by クックパッド
* [styled-componentsの採用と既存資産を捨てた理由](https://blog.cybozu.io/entry/2020/06/25/105457) by サイボウズ
* [ヤフー株式会社におけるWebフロントエンドの技術選定](https://techblog.yahoo.co.jp/advent-calendar-2018/yahoo-frontend/) by Yahoo
* [SassからCSS Modules、そしてstyled-componentsに乗り換えた話](https://note.com/tabelog_frontend/n/n2541778b81e3) by 食べログ

上記のように、有名なWeb系企業でも採用されているCSS-in-JSですが、パフォーマンスに影響を与えることが懸念されており、Next.jsの公式では非推奨?となっている

* [Next.js が CSS Modules を推奨する真相に迫りたい](https://zenn.dev/takepepe/scraps/6668e9fe402666) by Zenn
* [The unseen performance costs of modern CSS-in-JS libraries in React apps](https://calendar.perfplanet.com/2019/the-unseen-performance-costs-of-css-in-js-in-react-apps/) by Aggelos Arvanitakis

## Tailwind CSS

![Tailwind CSS](/content/blog/tailwindcss.png "Tailwind CSS")

Tailwind CSSは、Utility first というアプローチでスタイルを組み上げていくのが特徴です。

* **クラス名を考えるのに余計な労力を使う必要がない** 何かをデザインするために `sidebar-inner-wrapper` というような愚かなクラス名を追加する必要はありません。 そして、単なるフレックスコンテナに対して、完璧で抽象的な名前を考えるのに悩まされることはもうありません。
* **CSSが肥大化しない** 従来のやり方だと、新たな機能を追加するたびにCSSファイルは大きくなってしまいます。ユーティリティを使うことで、全ては再利用可能で新たなCSSを書く必要は滅多にありません。
* **変更を加えるのが怖くない** CSSはグローバルであり、変更を加えたときに何を壊しているのかがわかりません。HTMLのクラスはローカルであるため、他の何かが壊れることを心配せずにクラスを変更できます。

## TypeScript

![TypeScript](/content/blog/typescript.png "TypeScript")

TypeScriptは、JavaScriptのスーパーセット（上位互換）で型定義やジェネリックを扱うことができます。<br />私は、1年前ほどからTypeScriptを使っており、とにかく型が欲しかったので使用しました。

## GraphQL

![GraphQL](/content/blog/graphql.png "GraphQL")

Gatsbyを使用すると、コンテンツのリソースを取得する際にGraphQLが使用できます。<br />
これを使用することで効率の良いリソースの取得を行うことができるほか、graphql-codegenを用いてTypeScriptの型定義を生成することができます。

# ブログを作ってみて

まず、EmotionとTailwind CSSの相性の良さを実感しました。<br/>
CSS-in-JSを使用すると、CSSファイルを作ることがなくなるので、少ないCSSの記述でもコンポーネントを作成したり、直接スタイルをあてたりする必要があります。しかし、Tailwind CSSを併用することで、わざわざCSSの少ないコンポーネントを作る必要がなくなり、直接スタイルをあてることがなくなりました。

また、GraphQLとTypeScriptの相性の良さも実感することができました。<br/>
GraphQLは自身にスキーマ定義を持っているので、GraphQL Codegenを使用して、簡単にTypeScriptの型定義を生成することができ、安全にリソースへアクセスすることができました。さらに、Gatsbyは元々ブログ用のスキーマを持っているため、本ブログを作成する際にほとんどGraphQLを触ることなく開発することができました。

Gatsbyの勉強をするために、本ブログを作成しましたが、Gatsby以外の知見も得ることができ、とても満足です🚀